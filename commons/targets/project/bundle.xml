<?xml version="1.0" encoding="UTF-8"?>


<project default="project.bundle">


    <target name="project.bundle:init" hidden="true">
        <property name="project.bundle.patternset" value="project_bundle_patternset_default"/>

        <patternset id="project_bundle_patternset_default">
            <include name="**/**"/>
            <exclude name="docs/**"/>
            <exclude name="tests/**"/>
            <exclude name="${project.tmp}/**"/>
            <exclude name="${project.bundle}/**"/>
            <exclude name="${project.reports}/**"/>
        </patternset>
    </target>


    <target name="project.bundle:before" hidden="true">
        <echo message="no actions defined" level="debug"/>
    </target>


    <target name="project.bundle:main" hidden="true">
        <if>
            <istrue value="${project.bundle.enabled}"/>
            <then>
                <delete dir="${project.bundle}"/>
                <mkdir dir="${project.bundle}"/>

                <copy todir="${project.bundle}">
                    <fileset dir=".">
                        <patternset refid="${project.bundle.patternset}"/>
                    </fileset>
                </copy>
            </then>
            <else>
                <echo message="project.bundle disabled. enable by property project.bundle.enabled set to yes" level="warning"/>
            </else>
        </if>
    </target>


    <target name="project.bundle:after" hidden="true">
        <echo message="no actions defined" level="debug"/>
    </target>


    <target name="project.bundle" depends="project.bundle:init, project.bundle:before, project.bundle:main, project.bundle:after">
        <echo message="successful"/>
    </target>


    <target name="project.bundle:help" depends="project.bundle:init">
        <echo message="Property                     Value"/>
        <echo message="----------------------------------------------------------------------------------------------------"/>
        <echo message="project.bundle.enabled       yes|no: ${project.bundle.enabled}"/>
        <echo message="project.bundle.patternset    ${project.bundle.patternset}"/>
    </target>


</project>