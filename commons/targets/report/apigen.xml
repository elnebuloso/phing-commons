<?xml version="1.0" encoding="UTF-8"?>


<project default="report.apigen">


    <target name="report.apigen:init" hidden="true">
        <property name="report.apigen.out" value="${project.reports}/apigen" />
        <property name="report.apigen.title" value="API Documentation" />
        <property name="report.apigen.source" value="src" />
        <property name="report.apigen.exclude" value="" />
        <property name="report.apigen.checkstyle.path" value="${report.apigen.out}/apigen-checkstyle.xml" />
        <property name="report.apigen.checkstyle" value="false" />
    </target>


    <target name="report.apigen:before" hidden="true">
        <echo message="no actions defined" level="debug" />
    </target>


    <target name="report.apigen:main" hidden="true">
        <delete dir="${report.apigen.out}" />
        <mkdir dir="${report.apigen.out}" />

        <if>
            <istrue value="${report.apigen.checkstyle}" />
            <then>
                <property name="report.apigen.checkstyle.path" value="${report.apigen.checkstyle.path}" override="true" />
            </then>
            <else>
                <property name="report.apigen.checkstyle.path" value="" override="true" />
            </else>
        </if>

        <apigen executable="${phing:commons:root}/bin/apigen.php"
                title="${report.apigen.title}"
                source="${report.apigen.source}"
                exclude="${report.apigen.exclude}"
                internal="No"
                php="No"
                todo="Yes"
                deprecated="Yes"
                wipeout="Yes"
                destination="${report.apigen.out}"
                report="${report.apigen.checkstyle.path}" />
    </target>


    <target name="report.apigen:after" hidden="true">
        <echo message="no actions defined" level="debug" />
    </target>


    <target name="report.apigen" depends="report.apigen:init, report.apigen:before, report.apigen:main, report.apigen:after">
        <echo message="successful" />
    </target>


    <target name="report.apigen:help" depends="report.apigen:init" hidden="true">
        <echo message="PROPERTY                                          VALUE" />
        <echo message="----------------------------------------------------------------------------------------------------" />
        <echo message="report.apigen.out                                 ${report.apigen.out}" />
        <echo message="report.apigen.title                               ${report.apigen.title}" />
        <echo message="report.apigen.source                              ${report.apigen.source}" />
        <echo message="report.apigen.exclude                             ${report.apigen.exclude}" />
        <echo message="report.apigen.checkstyle.path                     ${report.apigen.checkstyle.path}" />
        <echo message="report.apigen.checkstyle                          ${report.apigen.checkstyle}" />
    </target>


</project>